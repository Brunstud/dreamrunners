"use strict";(self["webpackChunkjekedao_front"]=self["webpackChunkjekedao_front"]||[]).push([[764],{6764:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home",style:{backgroundImage:"url("+t.background+")"}},[e("div",{staticClass:"overlay"}),e("div",{staticClass:"content"},[e("h1",[t._v(t._s(t.texts.h1[t.currentLanguage]))]),e("p",[t._v(t._s(t.texts.p[t.currentLanguage]))])]),e("div",{staticClass:"avatar-container"},[e("img",{staticClass:"avatar-image",attrs:{src:t.AvatarImage,alt:"Avatar"}}),e("div",{staticClass:"avatar-border"})]),e("div",{staticClass:"user-info"},[e("h2",{staticClass:"user-name"},[t._v(t._s(t.user.NICKNAME))]),e("p",{staticClass:"user-bio"},[t._v(t._s(t.texts.bio[t.currentLanguage]))]),e("p",{staticClass:"user-bio"},[t._v(t._s(t.user.BIO))])]),e("router-link",{attrs:{to:"/fly-latterns"}},[e("el-button",{staticClass:"center-button",attrs:{type:"primary"},on:{click:t.onFlyLattern}},[t._v(t._s(t.texts.release[t.currentLanguage]))])],1),0==this.latterns.number?e("p",{staticClass:"msg"},[t._v(t._s(t.texts.msg[t.currentLanguage]))]):e("div",{staticClass:"lattern-container"},t._l(t.latterns.show,(function(s,r){return e("div",{key:r,staticClass:"lattern"},[e("router-link",{staticClass:"link",attrs:{to:"/latterns/"+s.No}},[e("img",{staticClass:"lattern-image",attrs:{src:t.latternImage,alt:"红灯笼"}}),e("p",[t._v(t._s(s.title))])])],1)})),0),e("div",{directives:[{name:"show",rawName:"v-show",value:t.latterns.pointer>0,expression:"latterns.pointer > 0"}],staticClass:"arrow left",on:{click:t.moveLeft}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.latterns.number-t.latterns.pointer>3,expression:"latterns.number - latterns.pointer > 3"}],staticClass:"arrow right",on:{click:t.moveRight}})],1)},a=[],n=(s(560),s(804)),i={name:"UserPage",data(){return{background:s(3139),latternImage:s(4015),texts:{h1:{Chinese:"放飞希望",English:"Fly Our Hopes",Louis:"用户个人界面"},p:{Chinese:"仰望我的漫天星空",English:"Look up at my starry sky",Louis:"User Personal Interface"},bio:{Chinese:"个人简介：",English:"Brief:",Louis:"我说："},msg:{Chinese:"我的故事才刚刚开始...",English:"There are many lanterns worth flying...",Louis:"something miss"},release:{Chinese:"制作一个新灯笼",English:"Make a new lantern",Louis:"POST A NEW MSG"}},AvatarImage:s(6768),user:{UID:"123456",NICKNAME:"JohnDoe",BIO:"A passionate coder"},latterns:{No:[],show:[],pointer:0,number:0}}},computed:{currentLanguage(){return this.$store.getters.curLanguage}},methods:{async findLatterns(){try{const t=await n.Z.get("api/users/"),e=t.data.find((t=>t.uid===this.user.UID));e?(this.latterns.No=Array.from(e.latterns),this.latterns.number=e.latterns.length,this.findLatternsShown()):console.log("no-such-user")}catch(t){console.error("Error fetching user data:",t),alert("latterns-find-wrong")}},async findLatternsShown(){this.latterns.show.splice(0,this.latterns.show.length);for(let e=this.latterns.pointer,s=Math.min(this.latterns.pointer+3,this.latterns.number);e<s;e++)try{const t=await n.Z.get("api/latterns/"),s=t.data.find((t=>t.No===this.latterns.No[e]));console.log(s),s?this.latterns.show.push({No:s.No,title:s.title}):console.log("find-wrong-lattern-no")}catch(t){console.error("Error fetching lantern data:",t),alert("latterns-catch-wrong")}},moveLeft(){console.log("move-left"),this.latterns.pointer-=3,this.findLatternsShown()},moveRight(){console.log("move-right"),this.latterns.pointer+=3,this.findLatternsShown()}},mounted(){this.user=this.$store.getters.userInfo,this.findLatterns()},created(){this.$store.getters.userLogin||this.$router.push("/login"),this.$store.commit("hideAudioButton")}},o=i,l=s(1001),c=(0,l.Z)(o,r,a,!1,null,"3522bb97",null),u=c.exports},6768:function(t,e,s){t.exports=s.p+"img/Kitasan_Black.e6616c0e.png"},4015:function(t,e,s){t.exports=s.p+"img/lattern2.23b52818.png"},3139:function(t,e,s){t.exports=s.p+"img/latterns_night_sky.1cf40ff8.jpg"}}]);
//# sourceMappingURL=764.205cdc12.js.map