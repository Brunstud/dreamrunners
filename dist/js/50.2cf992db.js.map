{"version":3,"file":"js/50.2cf992db.js","mappings":"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","sources":["webpack://jekedao_front/./src/views/Login.vue","webpack://jekedao_front/src/views/Login.vue","webpack://jekedao_front/./src/views/Login.vue?3cb7","webpack://jekedao_front/./src/views/Login.vue?a6ee"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"home\",style:({ backgroundImage: 'url(' + _vm.background + ')' })},[_c('div',{staticClass:\"overlay\"}),_c('div',{staticClass:\"content\"},[_c('h1',[_vm._v(_vm._s(_vm.texts.h1[_vm.currentLanguage]))]),_c('p',[_vm._v(_vm._s(_vm.texts.p[_vm.currentLanguage]))]),_c('el-form',{ref:\"form\",staticClass:\"custom-label\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('template',{slot:\"label\"},[_c('span',{staticClass:\"custom-label\"},[_vm._v(_vm._s(_vm.abbr.username[_vm.currentLanguage]))])]),_c('el-input',{attrs:{\"placeholder\":_vm.prompts.username[_vm.currentLanguage]},model:{value:(_vm.formData.username),callback:function ($$v) {_vm.$set(_vm.formData, \"username\", $$v)},expression:\"formData.username\"}})],2),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('template',{slot:\"label\"},[_c('span',{staticClass:\"custom-label\"},[_vm._v(_vm._s(_vm.abbr.password[_vm.currentLanguage]))])]),_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":_vm.prompts.password[_vm.currentLanguage]},model:{value:(_vm.formData.password),callback:function ($$v) {_vm.$set(_vm.formData, \"password\", $$v)},expression:\"formData.password\"}})],2),_c('el-form-item',[_c('el-button',{staticClass:\"center-button\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.toRegistPage}},[_vm._v(_vm._s(_vm.currentLanguage == 'Chinese' ? \"注册\" : \"Regist\"))]),_c('el-button',{staticClass:\"center-button\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmitLogin}},[_vm._v(_vm._s(_vm.currentLanguage == 'Chinese' ? \"登录\" : \"Login\"))])],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"home\"  :style=\"{ backgroundImage: 'url(' + background + ')' }\">\r\n      <div class=\"overlay\"></div>\r\n      <div class=\"content\">\r\n        <h1>{{ texts.h1[currentLanguage] }}</h1>\r\n        <p>{{ texts.p[currentLanguage] }}</p>\r\n        <el-form :model=\"formData\" ref=\"form\" :rules=\"rules\" label-width=\"80px\" class=\"custom-label\">\r\n          <el-form-item prop=\"username\">\r\n            <template slot=\"label\">\r\n              <span class=\"custom-label\">{{ abbr.username[currentLanguage] }}</span>\r\n            </template>\r\n            <el-input v-model=\"formData.username\" :placeholder=\"prompts.username[currentLanguage]\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"password\">\r\n            <template slot=\"label\">\r\n              <span class=\"custom-label\">{{ abbr.password[currentLanguage] }}</span>\r\n            </template>\r\n            <el-input v-model=\"formData.password\" type=\"password\" :placeholder=\"prompts.password[currentLanguage]\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" class=\"center-button\" @click=\"toRegistPage\">{{currentLanguage == 'Chinese' ? \"注册\" : \"Regist\"}}</el-button>\r\n            <el-button type=\"primary\" class=\"center-button\" @click=\"onSubmitLogin\">{{currentLanguage == 'Chinese' ? \"登录\" : \"Login\"}}</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from \"axios\";\r\n  export default {\r\n    name: 'LoginPage',\r\n    //设置背景图和文字\r\n    data() {\r\n      return {\r\n        //图片及文字\r\n        background: require('@/assets/latterns_building.jpg'),\r\n        texts:{ \r\n          h1: {Chinese:'放飞希望', English:'Fly Our Hopes', Louis:'用户登录'}, \r\n          p: {Chinese:'进入我的漫天星空', English:'Enter my starry sky', Louis:'User Login Interface'}, \r\n        },\r\n        //提示词\r\n        // 提示词根据语言切换\r\n        abbr:{\r\n          username: {Chinese:'账号', English:'Username', Louis:'Username'},\r\n          password: {Chinese:'密码', English:'Password', Louis:'Password'},\r\n        },\r\n        prompts:{\r\n          username: {Chinese:'请输入账号', English:'Enter your username', Louis:'Username'},\r\n          password: {Chinese:'请输入密码', English:'Enter your password', Louis:'Password'},\r\n        },\r\n        //输入信息\r\n        userData: {\r\n          uid: '',\r\n          nickname: '',\r\n          brief: '',\r\n          password: '',\r\n        },\r\n        formData: {\r\n          username: '',\r\n          password: '',\r\n        },\r\n        rules: {\r\n          username: [{ required: true, message: '请输入账号', trigger: 'blur' },\r\n                     { validator: this.validateUsername, trigger: 'blur' },],\r\n          password: [{ required: true, message: '请输入密码', trigger: 'blur' },\r\n                     { validator: this.validatePassword, trigger: 'blur' },],\r\n        },\r\n        //判断变量\r\n        usernameVaild: false,\r\n        passwordMatch: false,\r\n      }\r\n    },\r\n    //返回当前背景及文字\r\n    computed: {\r\n      currentLanguage() {\r\n        return this.$store.getters.curLanguage;\r\n      },\r\n    },\r\n    //时间控制，切换图片及文字\r\n    methods: {\r\n      toRegistPage() {\r\n        //跳转注册页面\r\n        this.$router.push('/regist');\r\n      },\r\n      onSubmitLogin() { \r\n        console.log(this.$refs.form); // Check if $refs is defined and contains the form reference\r\n        this.$refs.form.validate(valid => {\r\n          if (valid) {\r\n            // 所有验证通过，可以提交表单\r\n            // 执行提交逻辑（登录）\r\n            // 你可以通过 this.$store.commit 调用 mutation\r\n            this.$store.commit('setUserLogin', this.userData);\r\n            //完成登录，跳转主页\r\n            this.$router.push('/main');\r\n          } else {\r\n            this.$message.error('请正确填写表单');\r\n          }\r\n        });\r\n      },\r\n      validateUsername(rule, value, callback) {\r\n        // 账号验证逻辑，与数据库查重\r\n        axios.get(\"api/users/\") \r\n          .then((res) => { \r\n            //get()中的参数要与mock.js文件中的Mock.mock()配置的路由保持一致 \r\n        //axios.get('http://127.0.0.1:8000/users',)\r\n          //.then(res => {\r\n            //get()中的参数要与mock.js文件中的Mock.mock()配置的路由保持一致 \r\n            const userFound  = res.data.find(user => user.username === value); \r\n            this.usernameVaild = userFound;\r\n            this.userData.uid = userFound.uid;\r\n            this.userData.nickname = userFound.nickname;\r\n            this.userData.brief = userFound.brief;\r\n            this.userData.password = userFound.password;\r\n          }) \r\n          .catch(() => { \r\n            alert(\"nickname-check-wrong\"); \r\n          });\r\n        callback();\r\n      },\r\n      validatePassword(rule, value, callback) {\r\n        // 密码验证逻辑，可以根据需求自定义\r\n        // 例如，检查密码是否符合一定的要求，比如长度、包含字母和数字等\r\n        if (value == this.userData.password)\r\n            this.passwordMatch = true;\r\n        else\r\n            this.passwordMatch = false;\r\n        if (!this.usernameVaild || !this.passwordMatch) {\r\n          callback(new Error('账号和密码不匹配'));\r\n        } else {\r\n          callback();\r\n        }\r\n      },\r\n    },\r\n    //钩子函数\r\n    created() {\r\n      // 隐藏音频按钮\r\n      this.$store.commit('hideAudioButton');\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .home {\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 100vh;\r\n    overflow: hidden; /* 防止黑框溢出 */\r\n  }\r\n  \r\n  .overlay {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 10%;\r\n    width: 80%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, 0.5); /* 黑色半透明背景 */\r\n    z-index: 0;\r\n  }\r\n  \r\n  .content {\r\n    position: absolute;\r\n    top: 40%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    text-align: center;\r\n    z-index: 2;\r\n    color: rgb(124, 222, 240);\r\n    text-shadow: 1px 1px 2px rgb(247, 242, 170);\r\n  }\r\n  \r\n  h1 {\r\n    font-size: 2.5rem;\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  p {\r\n    font-size: 1.2rem;\r\n    margin-bottom: 30px;\r\n  }\r\n  \r\n  /*输入框*/\r\n  .custom-label {\r\n    color: rgb(28, 241, 63);\r\n  }\r\n  \r\n  /*按钮*/\r\n  button {\r\n    background-color: rgba(52, 152, 219, 0.322);\r\n    color: #fff;\r\n    border: none;\r\n    padding: 10px 20px;\r\n    font-size: 1rem;\r\n    cursor: pointer;\r\n  }\r\n    \r\n  button:hover {\r\n    background-color: rgba(25, 170, 238, 0.777);\r\n  }\r\n  \r\n  .center-button {\r\n    \r\n    text-align: center;\r\n    top: 70%;\r\n  }\r\n  </style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=f2ef207e&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=f2ef207e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f2ef207e\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","style","backgroundImage","background","_v","_s","texts","h1","currentLanguage","p","ref","attrs","formData","rules","slot","abbr","username","prompts","model","value","callback","$$v","$set","expression","password","on","toRegistPage","onSubmitLogin","staticRenderFns","name","data","require","Chinese","English","Louis","userData","uid","nickname","brief","required","message","trigger","validator","validateUsername","validatePassword","usernameVaild","passwordMatch","computed","$store","getters","curLanguage","methods","$router","push","console","log","$refs","form","validate","valid","commit","$message","error","rule","axios","get","then","res","userFound","find","user","catch","alert","Error","created","component"],"sourceRoot":""}